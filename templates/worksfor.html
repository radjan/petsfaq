<!DOCTYPE HTML>
<html lang="zh">
<head>
<title>寵物通</title>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="">
<meta name="author" content="">

<!-- <link rel="stylesheet" type="text/css" href="./s/style.css"> -->
<link href="/s/css/bootstrap.css" rel="stylesheet">
    <style type="text/css">
      body {
        padding-top: 60px;
        padding-bottom: 40px;
        background-color: #f5f5f5;
      }

      .form-signin {
        max-width: 500px;
        padding: 19px 29px 29px;
        margin: 0 auto 20px;
        background-color: #fff;
        border: 1px solid #e5e5e5;
        -webkit-border-radius: 5px;
           -moz-border-radius: 5px;
                border-radius: 5px;
        -webkit-box-shadow: 0 1px 2px rgba(0,0,0,.05);
           -moz-box-shadow: 0 1px 2px rgba(0,0,0,.05);
                box-shadow: 0 1px 2px rgba(0,0,0,.05);
      }
      .form-signin .form-signin-heading,
      .form-signin .checkbox {
        margin-bottom: 10px;
      }
      .form-signin input[type="text"],
      .form-signin input[type="password"] {
        font-size: 16px;
        height: auto;
        margin-bottom: 15px;
        padding: 7px 9px;
      }

      div.container label{
        display: inline;
      }

      div.container ul label{
        display: block;
      }
    </style>
    <link href="/s/css/bootstrap-responsive.css" rel="stylesheet">

    <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="/s/js/html5shiv.js"></script>
    <![endif]-->

    <!-- Fav and touch icons -->
    <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/s/ico/apple-touch-icon-144-precomposed.png">
    <link rel="apple-touch-icon-precomposed" sizes="114x114" href="/s/ico/apple-touch-icon-114-precomposed.png">
    <link rel="apple-touch-icon-precomposed" sizes="72x72" href="/s/ico/apple-touch-icon-72-precomposed.png">
    <link rel="apple-touch-icon-precomposed" href="/s/ico/apple-touch-icon-57-precomposed.png">
    <link rel="shortcut icon" href="/s/ico/favicon.png">

    <link href="/s/css/myFormat.css" rel="stylesheet">
</head>

<body>
    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container-fluid">
          <button type="button" class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="brand" href="#">Pet Helper</a>
          <!-- <div class="nav-collapse collapse">
            <ul class="nav">
              <li><a href="/s/about.html">論壇</a></li>
              <li class="avtive"><a href="/s/medical_help/hospitals.html">醫療資訊</a></li>
              <li><a href="#contact">聯絡我們</a></li>
            </ul>
          </div> --><!--/.nav-collapse -->
        </div>
      </div>
    </div>

   <div class="container">
        <form id="myForm" class="form-signin" action="new_hospital" method="post">
            <div>
                <h3 class="form-signin-heading">建立醫院</h3>
                <p>如果您是醫院的員工，請尋找您所屬的動物醫院。</p>
                <!-- <form class="form-search"> -->
                <input type="text" class="search-query input-large">
                <button class="btn">Search</button>
                <!-- </form> -->
                <br><br>
                <button type="button" class="btn btn-primary" onclick="showCreateHospital()">找不到所屬醫院，建立醫院</button>
                <br>
                <hr class="bs-docs-separator">

                <div name="normalUser">
                    <p>如果您是一般使用者，請按鈕直接使用寵物通！</p>
                    <!-- <button id="nextStep" class="btn btn-small btn-danger right" type="submit">跳過</button> -->
                    <a href="/" role="button" class="btn btn-success right">註冊完成！前往寵物通</a>
                    <!-- <button class="btn btn btn-success right" type="submit">註冊完成！前往寵物通</button> -->
                    <br>
                </div>
            </div>

            <div name="createHospital" style="display:none">
                  <span style="color:red">*</span>
                  <label>醫院名稱</label>
                  <input name="name" type="text" class="input-block-level">
              
                  <span style="color:red">*</span>
                  <label>簡介</label>
                  <textarea name="description" rows="5" class="input-block-level"></textarea>

                  <span style="color:red">*</span>
                  <label>專科</label>
                  <ul id='specialties'>
                  </ul>

                  <span style="color:red">*</span>
                  <label>地址</label>
                  <div>
                <!-- 郵遞區號：<input name="zipcode" type="text" class="input-block-level"><br> -->
                  <select id="selector_county" name="county">
                  <option value=''>選擇縣市</option>
                <!-- <input name="county" type="text" class="input-block-level"><br> -->
                </select>
                  <select id="selector_area" name="area">
                  <option value=''>選擇鄉鎮市區</option>
                  <!-- 鄉鎮市區：<input name="area" type="text" class="input-block-level"><br> -->
                  </select>
                
                  <br>
                  <span style="color:red">*</span>
                  <label>街號</label>
                  <input id="input_zipCode" name="zipcode" type="hidden">
                  <input name="address" type="text" class="input-block-level"><br>
                </div>
                <span style="color:red">*</span>
                <label>電話</label>
                <input name="phone" type="text" class="input-block-level">
                <!-- 可預約：<input type='checkbox' name='bookable'><br> -->
        
                <label>營業時間</label>
                <textarea name="working_hour" class="input-block-level"></textarea>

                <label>統一編號</label>
                <input name="address" type="text" class="input-block-level"><br>

                <label class="checkbox" onclick="displayEr()">
                    <input name="er" type="checkbox"> 有急診
                </label>

                <div name="erData" style="display:none">
                    <label>急診電話</label>
                    <input name='er_phone' type="text" class="input-block-level">

                    <label>急診時間</label>
                    <textarea name='er_hour' type="text" class="input-block-level"></textarea>
                </div>
                <br>
                <hr class="bs-docs-separator">
                <!-- <button class="btn btn-inverse" type="submit">取消</button> -->
                <a href="#confirmModal" role="button" class="btn btn-large btn-primary right" data-toggle="modal" onclick="displayData()">下一步</a>
                <br>
                <br>
            </div>
        <!-- <div id="skipModal" class="modal hide fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
            <div class="modal-header">
                <h3 id="myModalLabel">確認資料</h3>
            </div>
        <div class="modal-body">
            <p>您確定跳過建立簡歷？</p>
        </div>
        <div class="modal-footer">
          <button class="btn btn-inverse left" data-dismiss="modal" aria-hidden="true">回頭建立簡歷</button>
          <button id="skipToNextStep" class="btn btn-large btn-primary" type="submit">確認，下一步</button>
        </div>
      </div>   --> <!--/skipModal div-->

      <div id="confirmModal" class="modal hide fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
        <div class="modal-header">
            <!-- <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button> -->
            <h3 id="myModalLabel">確認資料</h3>
        </div>
        <div id="modalBody" class="modal-body">
        </div>
        <div class="modal-footer">
          <button class="btn btn-inverse left" data-dismiss="modal" aria-hidden="true">回頭修改</button>
          <button id="nextStep" class="btn btn-large btn-primary" type="submit">確認，下一步</button>
        </div>
      </div>   <!--/confirmModal div-->
  
  </form>

   <div id='templates' class='specialtySelector'>
     <li name='spec_item'>
       <label>種類：</label>
       <select name='species_' class='species'>
          <option value=''>未選擇</option>
       </select>
       <input name="newSpecies" type="text" placeholder="新增種類" class="input-block-level inputNewSpecies">
       <label>專科：</label>
       <select name='category_' class='category'>
          <!-- <option value='一般' class="optionCategory">一般</option> -->
       </select>
       <input name="newCategory" type="text" placeholder="新增專科" class="input-block-level inputNewCategory">
       <!-- <textarea class="inputNewCategory" rows="1" autofocus></textarea> -->
     </li> 
   </div>

</div>

   <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="http://code.jquery.com/jquery-1.9.1.min.js"></script>
    <script src="http://code.jquery.com/jquery-migrate-1.1.1.min.js"></script>
    <script src="/s/js/bootstrap.js"></script>
    <script src="/s/js/twzipcode.js"></script>
    <script src="/s/js/showNAddSpecialites.js"></script>    

    <script type="text/javascript">
    var zipLoaded = false;
    var ready = false;
    var species = [];
    var categories = [];
    // var chosenCounty;

    $("document").ready(
      function(){
        if(!zipLoaded){
          for (var county in TW_ZIP) {
             $("#selector_county").append('<option value="' + county+ '">' + county + '</option>');
            }
            zipLoaded = true;  
        }

        $("#selector_county").change(function(){
            showArea($("#selector_county").val());
        });

        $("#selector_area").change(function(){
          var county = $("#selector_county").val();
          var area = $("#selector_area").val();
          $("#input_zipCode").val(TW_ZIP[county][area]);
          
        });


      });

    function showArea(chosenCounty){
      $("#selector_area").empty();
      $("#selector_area").append('<option value="">請選擇</option>');
      for (var area in TW_ZIP[chosenCounty]) {
          var zipCode = TW_ZIP[chosenCounty][area];
         $("#selector_area").append('<option value="' +area+ '">'+ zipCode+" "+ area + '</option>');
      };
    }

    function showCreateHospital(){
        $("div[name=normalUser]").hide();
        $("div[name=createHospital]").slideDown();
        // $.ajax({
        //     url: "/api/v1/specialty/species",
        //     type: "GET",
        //     cache: false
        // }).done(function(_data){
        //     species = $.parseJSON(_data);
        //     initSpecialties();
        // });
        // $.ajax({
        //     url: "/api/v1/specialty/categories",
        //     type: "GET",
        //     cache: false
        // }).done(function(_data){
        //     categories = $.parseJSON(_data);
        //     initSpecialties();
        // });
    }

    function displayEr(){
        if ($("input[name=er]").is(":checked")) {
            $("div[name=erData]").slideDown();
        }else{
            $("div[name=erData]").slideUp();
        }
    }

    function displayData () { 
        // check data 
      $("#nextStep").show();
      $("#modalBody").empty();
      $("#modalBody").append("醫院名稱："+ $("input[name=name]").val()+"<br>");
      $("#modalBody").append("簡介："+ $("textarea[name=description]").val()+"<br>");
      $("#modalBody").append("專科："+ $("textarea[name=specialty]").val()+"<br>");
      $("#modalBody").append("營業時間："+ $("textarea[name=working_hour]").val()+"<br>");
      $("#modalBody").append("地址："+ $("input[name=address]").val()+"<br>");
      $("#modalBody").append("電話："+ $("input[name=phone]").val()+"<br>");

      if ($("input[name=er]").is(":checked")) {
        $("#modalBody").append("急診時間："+ $("textarea[name=er_hour]").val()+"<br>");
        $("#modalBody").append("急診電話："+ $("input[name=er_phone]").val()+"<br>");
      }

    }

    // function initSpecialties() {
    //     if (ready) {
    //         for (var i = 1; i <= 3; i++) {
    //             addSpecialty(i);
    //         }
    //     } else {
    //         ready = true;
    //     }
    // }
    // function addSpecialty(n) {
    //     var s = $('#templates').find('li[name=spec_item]').clone();
    //     var input_species = s.find('.species');
    //     for (i in species) {
    //         input_species.append('<option value="' + species[i]+ '">' + species[i] + '</option>');
    //     }
    //     var input_categories = s.find('.category');
    //     for (i in categories) {
    //         input_categories.append('<option value="' + categories[i]+ '">' + categories[i] + '</option>');
    //     }
    //     input_species.attr('name', input_species.attr('name') + n);
    //     input_categories.attr('name', input_categories.attr('name') + n);
    //     $('#specialties').append(s);
    // }
    </script>

</body>
</html>
  